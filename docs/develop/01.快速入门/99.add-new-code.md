# 添加新的代码

```c
// 定义ULOG的标签和基本，必须位于c/c++文件最顶部，且不能定义在.h文件
#define LOG_TAG "hello_world"
#define LOG_LVL LOG_LVL_DBG

// nextpilot.h包含项目中可能用到的所有头文件
#include "nextpilot.h"

// 当前程序是否运行
static bool _is_app_running = false;
static uint32_t _app_run_count = 0;

// hello_world线程入口函数
void hello_world_entry(void *param){
    while (_is_app_running){
        // do some thing
        _app_run_count++;
        // 延时10ms
        rt_thread_mdelay(10);
    }
    _is_app_running = false;
}

// hello_world启动程序
// 默认通过INIT_APP_EXPORT导出到初始化列表
// 也可以通过命令行hell_world start启动
int hello_world_start(){
    if (_is_app_running){
        LOG_W("hello world is running");
        return -RT_ERROR;
    }



    LOG_I("this is hello world\n");

    _is_app_running = true;
    return RT_EOK;
}
// INIT_APP_EXPORT宏将hello_world_start添加到初始化列表中
// 在系统启动之后会自动调用该函数，无须手动添加到main()中
INIT_APP_EXPORT(hello_world_start);

// hello_world停止程序
// 通过命令行hello_world stop触发
int hello_world_stop(){

    if (!_is_app_running) {
        LOG_W("hello world not running");
        return -RT_ERROR;
    }

    _is_app_running = false;
    return RT_EOK;
}


int hello_work_main(int argc, char** argv){


}
// 添加命令行，可以通过终端交互操作hell_world
CMD_MSH_EXPORT(hello_work_main,);

```


## 添加Sconscript
```python
import os
import sys

if GetDepend(['HELLO_WORLD']):
    Return(None)

src = Glob("*.c")
inc = [cwd]

objs = DefineGroup(src, inc, depend=[''], )



```